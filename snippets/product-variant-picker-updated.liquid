{% comment %}
  Renders product variant-picker

  Accepts:
  - product: {Object} product object.
  - block: {Object} passing the block information.
  - product_form_id: {String} Id of the product form to which the variant picker is associated.
  Usage:
  {% render 'product-variant-picker', product: product, block: block, product_form_id: product_form_id %}
{% endcomment %}

{%- unless product.has_only_default_variant -%}
  <div id="productsVariants">
    <variant-selects
      id="variant-selects-{{ section.id }}"
      class="!flex w-full flex-col gap-3 mt-6"
      data-section="{{ section.id }}"
      {{ block.shopify_attributes }}
    >
      {%- for option in product.options_with_values -%}
        <fieldset
          class="js product-form__input product-form__input--pill !mb-0"
          {% if option.name == 'Scent' %}
            style="display: none !important;"
          {% endif %}
        >
          <div class="w-full grid grid-cols-3 gap-2 md:gap-3">
            {% render 'product-variant-options-updated',
              product: product,
              option: option,
              block: block,
              index_num: forloop.index,
              picker_type: picker_type
            %}
          </div>
        </fieldset>
      {%- endfor -%}

      <script type="application/json" data-selected-variant>
        {{ product.selected_or_first_available_variant | json }}
      </script>
    </variant-selects>
  </div>
{%- endunless -%}
